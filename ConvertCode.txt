<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" text = "text/css" href="homepage.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<title>The Car Wars Saga</title>
<h1>Alex Kuhlman's Phase 4 Assignment</h1>

<br> </br>

<divbutton class="btn-group"> 
  <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Click here for more. <span class="caret"></span>
  </button>
  <divlink class="dropdown-menu">
    <li><a href="https://s3-us-west-2.amazonaws.com/cmleongcis311/phase+4/phase4.html" target = "_blank">Chris</a></li>
    <li role="separator" class="divider"></li>
    <li><a href= "https://s3-us-west-2.amazonaws.com/daniellew3110phase4/DanielLewPhase4.html" target = "_blank">Daniel</a></li>
    <li role="separator" class="divider"></li>
    <li><a href="https://s3.amazonaws.com/kyleshimokochicis3110deliverable4/Kyle_Shimokochi_Project_4.html" target = "_blank">Kyle</a></li>
    <li role="separator" class="divider"></li>
    <li><a href="https://s3-us-west-2.amazonaws.com/cis311phase3/assignment3.html" target = "_blank">Sha</a></li>
  </divlink>
</divbutton>

<br></br>
	
<h2>The Car Wars Saga</h2>

<div class="alert alert-info alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  Hello, welcome to my page. Please look around.
</div>

</head>
<body>

 <div id='alert' class='hide'></div>

<script>
$(document).ready( function() { 
 var images = ["1.jpg", "2.jpg", "3.jpg", "4.JPG", "5.jpg", "6.jpg"]; //your urls
 var imagesTitle = ["Car Wars 1: The Car Menance", "Car Wars 2: Attack of the Car", "Car Wars 3: Revenge of the Car", "Car Wars 4: A New Car", "Car Wars 5: The Car Strikes Back", "Car Wars 6: Return of the Car"];
 var imagesDescription = ["The Car Federation upsets order in the Galactic Car Republic by blockading the Yes Cerritos Auto Square in preparation" 
                        + " for a full-scale invasion. The Republic's leader, Supreme Carcellor Valoroom, dispatches Cardi Master Qui-Car Jinn, and his" 
          			    + " apprentice, Obi-Wan Carobi, to negotiate with the Car Federation Carroy, Nute Carray. Darth Sidious, a Car Lord and the" 
						+ " Car Federation's secret benefactor, orders the Carroy to kill the Cardi and begin their invasion with an army of battle cars.", 
                          "Ten years after the Car Federation's invasion of Yes Cerritos Auto Square, the Galactic Car Republic is threatened by the" 
						+ " Separatist movement organized by former Cardi Master Counting Cars. Senator Padmé Amicarla comes to Caruscant to vote on a motion" 
						+ " to create a car army to assist the Cardi against this threat. Narrowly avoiding an assassination attempt upon arrival, she is placed"
						+ " under the protection of Cardi Master Obi-Wan Carobi and his apprentice, Anakin Carwalker.",
						  "Three years after the Battle of Honda, the industry is in a state of civil war. During a battle over I-15, Cardi master" 
						+ " Obi-Wan Carobi and Cardi Knight Anakin Carwalker lead a mission to rescue the kidnapped Supreme Carncellor Palpatine from the"
						+ " cyborg Separatist carmmander, General Grievous. After infiltrating Grievous's car, the Invisible Hand, the Cardi battle Counting Car"
						+ " , whom Anakin eventually executes at Palpatine's urging.", 
						  "The industry is in the midst of a civil war. Car spies have stolen plans to the Galactic Car Empire's Death Star, a colossal car factory"
						+ " capable of destroying an entire car company. Princess Leia, one of the Car's leaders, has the plans, but her car is captured by Imperial cars"
						+ " under the command of the ruthless Darth Carder. Before she is captured, Leia hides the plans in the memory of an astrocar droid, R2-D2, along"
						+ " with a holographic recording. R2-D2 flees in an escape car to the desert road Route 66 with C-3PO, a protocar droid.",
						  "Three years after the destruction of the Death Star, the Car Alliance has been driven from their former base on Carvin IV by the Galactic Car "
						+ " Empire. The cars, led by Princess Leia, have set up a new base on the ice factory Anartica. The Imperial fleet, led by Darth Carder, continues"
						+ " to hunt for the Car's new base by dispatching probe cars across the galaxy. Luke Carwalker is captured by a wampa while investigating one such car,"
						+ " but he manages to escape from the wampa's car with his carsaber.", 
						  "Luke Carwalker initiates a plan to rescue Han Carolo from the crime lord Jabba the Car with the help of Princess Leia, Lando Carlrissian, Chewbaccar,"
						+ " C-3PO, and R2-D2. Leia infiltrates Jabba's monster truck on Route 66, disguised as a car hunter, with Chewbaccar as her prisoner. Leia releases Han"
						+ " from his carbonite maintenance, but she is captured and enslaved."];
 var idNum = ["1","2","3","4","5", "6"];

 var url ; //assign later, make scope global to script
 var favButton;
 var unfavButton;

 var alertLocation = document.createElement("div");
 alertLocation.setAttribute("class", "alertCW");
 document.body.appendChild(alertLocation);
 
 for(var i=0; i < images.length; i++) //establish for, 6 items, last index place is 5, if you recall
 { 
   var largeDiv = document.createElement("div"); //template were all divs goes to 
   largeDiv.setAttribute("class", "CW" + [i + 1]);
   document.body.appendChild(largeDiv);
   
   var sizeDiv = document.createElement("div"); //makes the sizes of the div 
   sizeDiv.setAttribute("class", "col-sm-6 col-md-3");
   largeDiv.appendChild(sizeDiv); 

   console.log("image" + i + " is " + images[i]);

   url = "https://s3-us-west-2.amazonaws.com/cis3110phase2/" + images[i]; //append to https://s3-us-west-2.amazonaws.com/cis3110phase2/

   //var multImagesTitles = imagesTitle[i];
   //var multImagesDescription = imagesDescription[i];
   var urlOfDetailPage = "https://s3-us-west-2.amazonaws.com/cis3110phase4/CIS3110Phase4AssignmentDescription.html?" + "img=" + url + "&" + "title=" + imagesTitle[i] + "&" + "description=" + imagesDescription[i]; //Make this into an actual url when uploaded to amazon.; //where you will navigate, once you press the image, will send the detail page the img to analyze
  
   var divImage = document.createElement("div"); //make a div
   divImage.setAttribute("class", "divCSS"); //so it displays at 30% width, margin and padding https://css-tricks.com/almanac/properties/o/object-fit/
   thumbnailDiv.appendChild(divImage); 

   var imageInsert = document.createElement("img");
   imageInsert.setAttribute("class", "imgCSS"); //fit to div
   imageInsert.setAttribute("src", url); //src to url, above, determined by for i

   var imgClick = document.createElement("a");
   imgClick.setAttribute("href", urlOfDetailPage); // so you'll navigate to the url
   imgClick.appendChild(imageInsert); //make the image the link
   divImage.appendChild(imgClick);//place the link inside of each div

   var thumbnailDiv = document.createElement("div"); // store all parts
   thumbnailDiv.setAttribute("class", "thumbnail");
   sizeDiv.appendChild(thumbnailDiv);
   
   //var imageDiv = document.createElement("div"); //prints the image with the link
   //imageDiv.setAttribute("src", divImage); 
   //thumbnailDiv.appendChild(divImage); 
 
    var divDescription = document.createElement("div"); //creates title and descriptions
			divDescription.setAttribute("class", "captionCSS");
			var captionContent = Captions[i];
			var infoContent = Description[i];
			var nodeTitle = document.createTextNode(captionContent);
			var nodeDescription = document.createTextNode(infoContent);
			
	var h3Caption = document.createElement("h3"); //inserts title in thumbnailDiv
			h3Caption.appendChild(nodeTitle);
			divDescription.appendChild(caption);
			thumbnailDiv.appendChild(divDescription);
			
	var info = document.createElement("p"); //inserts description in thumbnailDiv		
			info.appendChild(nodeDescription);
			divDescription.appendChild(info);
			thumbnailDiv.appendChild(divDescription);
			
			favButton = document.createElement("button");
			favButton.setAttribute("id", "favButton" + idNum[i]);
			favButton.setAttribute("class", "btn btn-primary");
			var fav = "Make Favorite";
			var node2 = document.createTextNode(fav);
			favButton.appendChild(node2);
			//thumbnailDiv.appendChild(favButton);
			
			unfavButton = document.createElement("button");
			unfavButton.setAttribute("id", "unfavButton");
			unfavButton.setAttribute("id", "unfavButton" + idNum[i]);
			unfavButton.setAttribute("class", "btn btn-default");
			var unfav = "Unfavorite";
			var node3 = document.createTextNode(unfav);
			unfavButton.appendChild(node3);
			thumbnailDiv.appendChild(unfavButton);

			var favDiv = document.createElement("div");
			favDiv.setAttribute("id", "favDiv" + idNum[i]);
		        favDiv.appendChild(favButton);
			thumbnailDiv.appendChild(favDiv);

			var unfavDiv = document.createElement("div");
			unfavDiv.appendChild(unfavButton);
			thumbnailDiv.appendChild(unfavDiv);

			var space = document.createElement("br");
			thumbnailDiv.appendChild(space);
 }

		$("#favButton1").click(function()//CW1
		{
			console.log("CW1.");

			//favorite alert CW1
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 1 as your favorite? Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie1();
		});
		
		$("#unfavButton1").click(function()
		{
			console.log("CW1 deleted.");

			//unfavorite alert CW1
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 1. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");	
		});	
		
		$("#favButton2").click(function()//CW2
		{
			console.log("CW2.");
			
			//favorite alert CW2
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 2 as your favorite? Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie2();
		});
		
		$("#unfavButton2").click(function()
		{
			console.log("CW2 deleted.");

			//unfavorite alert CW2
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 2. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");
		});
		
		$("#favButton3").click(function()//CW3
		{
			console.log("CW3.");

			//favorite alert CW3
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 3 as your favorite? Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie3();
		});
		
		$("#unfavButton3").click(function()
		{
			console.log("CW3 deleted.");

			//unfavorite alert CW3
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 3. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");
		});
		
		$("#favButton4").click(function()//CW4
		{
			console.log("CW4.");

			//favorite alert CW4
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 4 as your favorite. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie4();
		});
		
		$("#unfavButton4").click(function()
		{
			console.log("CW4 deleted.");

			//unfavorite alert CW4
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 4. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");
		});
		
		$("#favButton5").click(function()//CW5
		{
			console.log("CW5.");
			
			//favorite alert CW5
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 5 as your favorite. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie5();
		});
		
		$("#unfavButton5").click(function()
		{
			console.log("CW5 deleted.");

			//unfavorite alert CW5
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 5. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");
		});
		
		$("#favButton6").click(function()//CW6
		{
			console.log("CW6.");

			//favorite alert CW6
			var alertDiv = document.createElement("div");
            alertDiv.setAttribute("class", "alert alert-success alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var fav = document.createTextNode("You have chosen Car Wars 6 as your favorite. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(fav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			checkCookie6();
		});
		
		$("#unfavButton6").click(function()
		{
			console.log("CW6 deleted.");

			//unfavorite alert CW6
			var alertDiv = document.createElement("div"); //alert
            alertDiv.setAttribute("class", "alert alert-danger alert-dismissible");
			alertDiv.setAttribute("href", "#");
			alertDiv.setAttribute("data-dismiss", "alert");
			alertDiv.setAttribute("aria-label", "close");
			var unfav = document.createTextNode("You have unfavorite Car Wars 6. Please reload the page.");
			var para = document.createElement("p");
			para.appendChild(unfav);
			alertDiv.appendChild(para);
			alertLocation.appendChild(alertDiv);

			deleteCookie("imgFile");
		});
		
		//removes an element.
	 
		function removeElement(elementId) 
		{
			// Removes an element from the document
			var element = document.getElementById(elementId);
			element.parentNode.removeChild(element);
		}

		//replaces the favorite button with a star.
		
		if (document.cookie.split(';').filter(function(item) //for CW1 
		{
				return item.indexOf('imgFile=1.jpg') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-rebel");
			star.setAttribute("style","font-size:30px;color:red;");
			removeElement("favButton1");
			var divAdd = document.getElementById("favDiv1");
			divAdd.appendChild(star);
			}
		
		
		else if (document.cookie.split(';').filter(function(item) //for CW2 
		{
				return item.indexOf('imgFile=2.jpg') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-rebel");
			star.setAttribute("style","font-size:30px;color:red;");
			removeElement("favButton2");
			var divAdd = document.getElementById("favDiv2");
			divAdd.appendChild(star);
			}
			
		else if (document.cookie.split(';').filter(function(item) //for CW3 
		{
				return item.indexOf('imgFile=3.jpg') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-rebel");
			star.setAttribute("style","font-size:30px;color:red;");
			removeElement("favButton3");
			var divAdd = document.getElementById("favDiv3");
			divAdd.appendChild(star);
			}
			
			
		else if (document.cookie.split(';').filter(function(item) //for CW4 
		{
				return item.indexOf('imgFile=4.JPG') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-rebel");
			star.setAttribute("style","font-size:30px;color:red;");
			removeElement("favButton4");
			var divAdd = document.getElementById("favDiv4");
			divAdd.appendChild(star);
			}
			
		else if (document.cookie.split(';').filter(function(item) //for CW5 
		{
				return item.indexOf('imgFile=5.jpg') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-empire");
			star.setAttribute("style","font-size:30px;color:blue;");
			removeElement("favButton5");
			var divAdd = document.getElementById("favDiv5");
			divAdd.appendChild(star);
			}
			
		else if (document.cookie.split(';').filter(function(item) //for CW6
		{
				return item.indexOf('imgFile=6.jpg') >= 0
			}).length) 
			{
			var star = document.createElement("i");
			star.setAttribute("class", "fa fa-rebel");
			star.setAttribute("style","font-size:30px;color:red;");
			removeElement("favButton6");
			var divAdd = document.getElementById("favDiv6");
			divAdd.appendChild(star);
			}
			
		//cookie functions
		
		function setCookie(cname,cvalue,exdays) 
		{
			var d = new Date();
			d.setTime(d.getTime() + (exdays*24*60*60*1000));
			var expires = "expires=" + d.toGMTString();
			document.cookie = cname+"="+cvalue+"; "+expires + ";path=/;";
		}
		
		
		function getCookie(cname) 
		{
			var name = cname + "=";
			var ca = document.cookie.split(';');
			for(var i=0; i<ca.length; i++) 
			{
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1);
				if (c.indexOf(name) == 0) 
				{
					return c.substring(name.length, c.length);
				}
			}
			return "";
		}
		
		//sets each cookie
		function checkCookie1() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "1.jpg";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		
		function checkCookie2() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "2.jpg";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		
		function checkCookie3() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "3.jpg";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		
		function checkCookie4() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "4.JPG";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		
		function checkCookie5() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "5.jpg";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		
		function checkCookie6() 
		{
			var user=getCookie("imgFile");
			if (user != "") 
			{
				console.log("you have a cookie already");
			} 
			else 
			{
			   user = "6.jpg";
			   if (user != "" && user != null) 
			   {
				   setCookie("imgFile", user, 30);
			   }
			}
		}
		//deletes cookie
		
		function deleteCookie(cname) 
		{
			var d = new Date(); //Create an date object
			d.setTime(d.getTime() - (1000*60*60*24)); //Set the time to the past. 1000 milliseonds = 1 second
			var expires = "expires=" + d.toGMTString(); //Compose the expirartion date
			window.document.cookie = cname+"="+"; "+expires + ";path=/;";//Set the cookie with name and the expiration date
		 
		}
		
	});
</script>
</body>
</html>